{% extends 'base.html' %}

{% block content %}
    <h1>Posts</h1>
    <ul>
    {% for post in post_list %}
        <li>
            <h3><a href="{% url 'blog:post-detail' post.id %}">{{ post.title }}</a></h3>
            <p>By {{ post.owner.username }} created: {{ post.created_time|date:"F d, Y" }}</p>
            <p>{{ post.content|truncatechars:150 }}</p>
            <a href="{% url 'blog:post-detail' post.id %}">Read more...</a>
            <p>Has {{ post.comments.count }} comment{{ post.comments.count|pluralize }}</p>
        </li>
    {% empty %}
        <p>No posts to display!</p> {# This handles the case where 'posts' is empty #}
    {% endfor %}
    </ul>

    {# Don't forget to include the pagination here! #}
    {% include 'include/pagination.html' %}

{% endblock %}