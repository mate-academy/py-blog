{% extends "base.html" %}

{% block title %}
  <title>Your Feed</title>
{% endblock %}

{% block content %}
  <div class="sticky-top bg-white">
    <h1>Your Feed
      <span class="float-right">

        {% if user.is_authenticated %}
          {{ user.username }}
          <a href="{% url 'logout' %}">Logout</a>
        {% else %}
          <a href="{% url 'login' %}?next={{request.path}}">Login</a>
        {% endif %}
      </span>
    </h1>
  </div>
  <hr>
  <br>

  {% for post in post_list %}

    <div class="card" style="width: 80%;">
      <h3 class="card-title text-center">{{ post.title }}</h3>
      <div class="card-body">
        <p class="text-primary">By {{ post.owner.username }} ({{ post.created_time }})</p>
        <p class="card-text">{{ post.content }}</p>
        <p class="text-muted">{{ post.comments.count }} comment{{ post.comments.count|pluralize }}</p>
        <a href="{% url 'blog:post-detail' pk=post.pk %}" class="btn btn-primary">
          Read more
        </a>
      </div>
    </div>

  {% endfor %}

{% endblock %}
