{% extends "base.html" %}

{% block content %}
  <h1>Welcome to our wonderful blog!</h1>

  {% if post_list %}
    <h4>Here are our posts (total {{ num_posts }}):</h4>
    <hr>

    {% for post in post_list %}
      <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
      <h5>by {{ post.owner }} at {{ post.created_time }}</h5>
      <p class="post-content">{{ post.content|truncatechars:200 }}</p>
      <p><strong>Total comments: {{ post.commentaries.count }}</strong></p>
      <hr>
    {% endfor %}
  {% endif %}

  {% if is_paginated %}
    <ul class="pagination">
      {% if post_list.has_previous %}
        <li class="page-item"><a class="page-link" href="?page={{ post_list.previous_page_number }}">Prev</a></li>
      {% endif %}
      <li class="page-item active"><span class="page-link">{{ post_list.number }} of {{ post_list.paginator.num_pages }}</span></li>
      {% if post_list.has_next %}
        <li class="page-item"><a class="page-link" href="?page={{ post_list.next_page_number }}">Next</a></li>
      {% endif %}
    </ul>
  {% endif %}

{% endblock %}
