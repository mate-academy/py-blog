{% extends "base.html" %}

{% block content %}
  <h1 class="text-center">Recently published posts</h1>
   {% if user.is_authenticated %}
    <li class="list-group-item">User: <a href="{{ user.get_absolute_url }}">{{ user.get_username }}</a></li>
    <li class="list-group-item"><a href="{% url 'logout'%}?next={{request.path}}">Logout</a></li>
   {% else %}
     <li class="list-group-item"><a href="{% url 'login'%}?next={{request.path}}">Login</a></li>
   {% endif %}
  <div class="row justify-content-start">
    <div class="col-lg-10">
      {% if post_list %}
        <ul class="list-unstyled">
          {% for post in post_list %}
            <li class="mt-3 mx-5">
              <a class="font-weight-bold" href="{% url 'blog:post-detail' pk=post.id %} ">{{ post.title }} ({{ post.created_time }})</a>
              <p>{{ post.content }}</p>
              <p class="font-weight-bold">Author: {{ post.owner.username }}</p>
              <p class="font-weight-light text-muted">{{ post.num_comments }} comments were left to this post</p>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-center">There haven't been published any posts yet</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
