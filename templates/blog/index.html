{% extends "base.html" %}

{% block content %}
  <h1>Home page</h1>
  <ul>
    {% for post in post_list %}
      <h5><a href={% url "blog:post-detail" pk=post.id %}>{{ post.title }}</a></h5>
      <li>
        <i>Author: {{ post.owner.username}} | Posted: {{ post.created_time }}</i>
        <br>
        {{ post.content|slice:":200"}}...
        <br>
        Comments: {{ post.commentary_set.count }}
      </li>
      <br>
    {% endfor %}
  </ul>
{% endblock%}

{% block pagination %}
  <ul class="pagination">
    {% if post_list.has_previous %}
      <li class="page-item">
        <a href="?page= {{ post_list.previous_page_number }}" class="page-link">prev</a>
      </li>
    {% endif %}
    <li class="page-item active">
      <span class="page-link">{{ post_list.number }} of {{ post_list.paginator.num_pages }}</span>
    </li>
    {% if post_list.has_next %}
      <li class="page-item">
        <a href="?page= {{ post_list.next_page_number }}" class="page-link">next</a>
      </li>
    {% endif %}
  </ul>
{% endblock %}