{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
  <h1 class="mb-1">{{ post.title }}</h1>
  <p class="text-muted small mb-2">{{ post.owner.username }} {{ post.created_time }}</p>
  <p class="mb-3">
    {{ post.content }}
  </p>
</div>
<h4>{{ post.comments.count }} comment{{ post.comments.count|pluralize }}</h4>

<div class="mt-3">
  {% for comment in post.comments.all %}
  <div class="card mb-3 shadow-sm">
    <div class="card-body p-3">
      <div class="mb-3 pb-2">
        <strong>{{ comment.user.username }}</strong>
        <small class="text-muted ms-2">
          {{ comment.created_time|date:"M. d, Y, g:i a" }}
        </small>
        <hr class="my-2">
        <p class="mt-1 mb-0">{{ comment.content }}</p>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
  {% block form %}
  {% if user.is_authenticated %}
    {% include "blog/comment_form.html" %}
  {% endif %}
  {% endblock %}
{% endblock %}
