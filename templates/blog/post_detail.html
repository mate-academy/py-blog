{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block content %}
  <h1>
    {{ post.title }}
  </h1>
  <small><i>{{ post.owner.username }},  {{ post.created_time }}</i></small>
  <p>{{ post.content }}</p>
  <h1>Commentaries</h1>
  <p>{{ post.commentaries.count }}
  {% if post.commentaries.count == 1 %}
    comment
  {% else %}
    comments
  {% endif %}</p>
  <ul class="list-group">
      {% for commentary in post.commentaries.all %}
        <div class="list-group-item">
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <h5 class="mb-0"> {{ commentary.user.username }}, <small><i>{{ commentary.created_time }}</i></small></h5>
    </div>
  </div>
  <div>
    <p style="font-size: 15px; font-weight: normal;">{{ commentary.content }}</p>
  </div>
</div>

      {% endfor %}
    </ul>
  {% if request.user.is_authenticated %}
<form method="post" action="">
  {% csrf_token %}
  {{ commentary_form|crispy }}
  <button type="submit">Add new commentary</button>
</form>
  {% endif %}

{% endblock %}
