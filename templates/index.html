{% extends "base.html" %}


{% block content %}
    <h2 class="posts_header">
      <span>Posts list</span>
    </h2>

    {% if posts%}
      <table class="table">
        <tr>
          <th><strong>Author</strong></th>
          <th><strong>Topic</strong></th>
          <th><strong>Content</strong></th>
        </tr>
        {% for post in posts %}
            <tr>
              <td>
                <strong>Username:</strong> <br>
                <p style="color: grey">{{ post.owner }}</p>
                <strong>Posted in:</strong> <br>
                <p style="color: grey">{{ post.created_time|date:'d-m-Y G:i' }}</p>
              </td>
              <td>
                  {{ post.title }}
              </td>
              <td>
                  {{ post.content }}
              </td>
        {% endfor %}
      </table>
    {% else %}
        <p>There are no posts in your service.</p>
    {% endif %}
    <div class="index_pagination">
      <ul class="pagination">
        {% if posts.has_previous %}
          <li class="page-item">
            <a href="?page= {{ posts.previous_page_number }}" class="page-link">prev</a>
          </li>
        {% endif %}
        <li class="page-item active">
          <span class="page-link">{{ posts.number }} of {{ posts.paginator.num_pages }}</span>
        </li>
        {% if posts.has_next %}
          <li class="page-item">
            <a href="?page= {{ posts.next_page_number }}" class="page-link">next</a>
          </li>
        {% endif %}
      </ul>
    </div>
{% endblock %}
